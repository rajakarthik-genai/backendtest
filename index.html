<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediTwin - Digital Twin Healthcare</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/auth.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Login Page -->
        <div id="login-page" class="auth-container active">
            <div class="auth-card">
                <div class="auth-header">
                    <h1><i class="fas fa-user-md"></i> MediTwin</h1>
                    <p>Digital Twin Healthcare Platform</p>
                </div>
                <form id="login-form" class="auth-form">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                    <div class="auth-switch">
                        Don't have an account? <a href="#" id="show-signup">Sign up</a>
                    </div>
                </form>
            </div>
        </div>

        <!-- Signup Page -->
        <div id="signup-page" class="auth-container">
            <div class="auth-card">
                <div class="auth-header">
                    <h1><i class="fas fa-user-md"></i> MediTwin</h1>
                    <p>Create Your Digital Twin Account</p>
                </div>
                <form id="signup-form" class="auth-form">
                    <div class="form-group">
                        <label for="signup-username">Username</label>
                        <input type="text" id="signup-username" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-firstname">First Name</label>
                        <input type="text" id="signup-firstname" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-lastname">Last Name</label>
                        <input type="text" id="signup-lastname" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-email">Email</label>
                        <input type="email" id="signup-email" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-password">Password</label>
                        <input type="password" id="signup-password" required>
                        <small>Must contain at least one uppercase letter</small>
                    </div>
                    <div class="form-group">
                        <label for="signup-confirm">Confirm Password</label>
                        <input type="password" id="signup-confirm" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Sign Up</button>
                    <div class="auth-switch">
                        Already have an account? <a href="#" id="show-login">Login</a>
                    </div>
                </form>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="dashboard-container">
            <!-- Sidebar -->
            <nav class="sidebar">
                <div class="sidebar-header">
                    <h2><i class="fas fa-user-md"></i> Digital Twin</h2>
                </div>
                <ul class="sidebar-menu">
                    <li class="menu-item active" data-page="dashboard">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </li>
                    <li class="menu-item" data-page="timeline">
                        <i class="fas fa-clock"></i> Timeline
                    </li>
                    <li class="menu-item" data-page="reports">
                        <i class="fas fa-chart-bar"></i> Reports
                    </li>
                    <li class="menu-item" data-page="analysis">
                        <i class="fas fa-analytics"></i> Analysis
                    </li>
                    <li class="menu-item" data-page="chat">
                        <i class="fas fa-comments"></i> AI Chat
                    </li>
                    <li class="menu-item" data-page="documents">
                        <i class="fas fa-file-upload"></i> Documents
                    </li>
                    <li class="menu-item" data-page="settings">
                        <i class="fas fa-cog"></i> Settings
                    </li>
                    <li class="menu-divider"></li>
                    <li class="menu-item dev-tools" onclick="window.open('complete-endpoint-tester.html', '_blank')">
                        <i class="fas fa-code"></i> API Tester
                    </li>
                    <li class="menu-item dev-tools" onclick="window.open('test-endpoints.html', '_blank')">
                        <i class="fas fa-bug"></i> Debug Tools
                    </li>
                </ul>
                <div class="user-profile">
                    <img id="user-avatar" src="https://via.placeholder.com/40" alt="Dr. Smith">
                    <span id="user-name">Dr. Smith</span>
                    <button id="logout-btn" class="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Dashboard Page -->
                <div id="dashboard-page" class="page active">
                    <header class="page-header">
                        <h1>Dashboard</h1>
                        <div class="search-container">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Search" id="search-input" aria-label="Search medical data">
                        </div>
                    </header>

                    <div class="dashboard-content">
                        <!-- Human Body Model -->
                        <section class="body-model-container" aria-label="Interactive Health Model">
                            <div class="body-model">
                                <svg width="300" height="600" viewBox="0 0 300 600">
                                    <!-- Human body outline -->
                                    <ellipse cx="150" cy="80" rx="40" ry="50" fill="#e0e0e0" stroke="#ccc"/>
                                    <rect x="120" y="120" width="60" height="100" rx="30" fill="#e0e0e0" stroke="#ccc"/>
                                    <rect x="130" y="220" width="40" height="120" fill="#e0e0e0" stroke="#ccc"/>
                                    <rect x="120" y="340" width="25" height="100" fill="#e0e0e0" stroke="#ccc"/>
                                    <rect x="155" y="340" width="25" height="100" fill="#e0e0e0" stroke="#ccc"/>
                                    <rect x="90" y="130" width="25" height="80" fill="#e0e0e0" stroke="#ccc"/>
                                    <rect x="185" y="130" width="25" height="80" fill="#e0e0e0" stroke="#ccc"/>
                                    
                                    <!-- Health indicators -->
                                    <circle cx="190" cy="140" r="8" fill="#ff4444" class="health-indicator" data-organ="shoulder"/>
                                    <circle cx="150" cy="170" r="8" fill="#ff8800" class="health-indicator" data-organ="lungs"/>
                                    <circle cx="150" cy="200" r="8" fill="#44ff44" class="health-indicator" data-organ="liver"/>
                                    <circle cx="150" cy="280" r="8" fill="#4488ff" class="health-indicator" data-organ="kidneys"/>
                                </svg>
                                <div class="organ-labels">
                                    <div class="label shoulder-label">Shoulder</div>
                                    <div class="label lungs-label">Lungs</div>
                                    <div class="label liver-label">Liver</div>
                                    <div class="label kidneys-label">Kidneys</div>
                                </div>
                            </div>
                        </div>

                        <!-- Health Summary Panel -->
                        <section class="health-summary" aria-label="Health Summary Information">
                            <div class="data-summary">
                                <h3>Data Summary</h3>
                                <div class="year-selector">
                                    <span class="year">2018</span>
                                    <span class="year">2021</span>
                                    <span class="year active">2023</span>
                                    <span class="year">2024</span>
                                </div>
                                <div class="summary-stats">
                                    <div class="stat-item">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        <span class="severity">Migraine - Severe</span>
                                        <span class="badge severe">Warehouse</span>
                                    </div>
                                </div>
                            </div>

                            <div class="conditions-list">
                                <div class="condition-item">
                                    <i class="fas fa-head-side-virus text-danger"></i>
                                    <div class="condition-details">
                                        <h4>Migraine - Severe Head Pain</h4>
                                        <ul>
                                            <li>Severe headache</li>
                                            <li>Throbbing pain</li>
                                            <li>Nausea</li>
                                            <li>Light sensitivity</li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="condition-item">
                                    <i class="fas fa-plus-circle text-success"></i>
                                    <div class="condition-details">
                                        <h4>Treatments Applied</h4>
                                        <ul>
                                            <li>Severe headache</li>
                                            <li>Throbbing pain</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="ai-assistant">
                                <h3>How can I help?</h3>
                                <div class="voice-controls">
                                    <button class="voice-btn"><i class="fas fa-microphone"></i></button>
                                    <button class="download-btn"><i class="fas fa-download"></i></button>
                                    <span>Digital Twin AI</span>
                                    <button class="arrow-btn"><i class="fas fa-arrow-left"></i></button>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>

                <!-- Chat Page -->
                <div id="chat-page" class="page">
                    <header class="page-header">
                        <h1>AI Medical Assistant</h1>
                        <div class="chat-actions">
                            <button class="btn btn-secondary" onclick="window.chatManager?.requestExpertOpinion()" title="Request Expert Medical Opinion">
                                <i class="fas fa-user-md"></i> Expert Opinion
                            </button>
                            <button class="btn btn-secondary" onclick="window.chatManager?.addToTimeline()" title="Add to Medical Timeline">
                                <i class="fas fa-calendar-plus"></i> Add to Timeline
                            </button>
                            <button class="btn btn-secondary" onclick="window.chatManager?.quickSymptomAnalysis()" title="Analyze Current Symptoms">
                                <i class="fas fa-stethoscope"></i> Analyze Symptoms
                            </button>
                            <button class="btn btn-secondary" onclick="window.chatManager?.clearChat()" title="Clear Chat History">
                                <i class="fas fa-trash"></i> Clear Chat
                            </button>
                        </div>
                    </header>
                    <div class="chat-container">
                        <div class="chat-messages" id="chat-messages"></div>
                        <div class="chat-input-container">
                            <input type="text" id="chat-input" placeholder="Ask your medical question..." aria-label="Chat input field">
                            <button id="send-message" aria-label="Send message"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>

                <!-- Documents Page -->
                <div id="documents-page" class="page">
                    <header class="page-header">
                        <h1>Medical Documents</h1>
                        <button class="btn btn-primary" id="upload-document">
                            <i class="fas fa-upload"></i> Upload Document
                        </button>
                    </header>
                    <div class="documents-container">
                        <div class="upload-area" id="upload-area">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Drag and drop files here or click to browse</p>
                            <input type="file" id="file-input" multiple accept=".pdf,.doc,.docx,.jpg,.png">
                        </div>
                        <div class="documents-list" id="documents-list"></div>
                    </div>
                </div>

                <!-- Other Pages -->
                <div id="timeline-page" class="page">
                    <header class="page-header">
                        <h1>Medical Timeline</h1>
                    </header>
                    <div class="timeline-container">
                        <div class="timeline-item">
                            <div class="timeline-date">2024-07-10</div>
                            <div class="timeline-content">
                                <h4>Consultation with Dr. Smith</h4>
                                <p>Regular check-up and medication review</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="reports-page" class="page">
                    <header class="page-header">
                        <h1>Medical Reports</h1>
                    </header>
                    <div class="reports-grid">
                        <div class="report-card">
                            <h3>Blood Test Results</h3>
                            <p>Latest: July 2024</p>
                        </div>
                    </div>
                </div>

                <div id="analysis-page" class="page">
                    <header class="page-header">
                        <h1>Health Analysis</h1>
                    </header>
                    <div class="analysis-container">
                        <canvas id="health-chart"></canvas>
                    </div>
                </div>

                <div id="settings-page" class="page">
                    <header class="page-header">
                        <h1>Settings</h1>
                    </header>
                    <div class="settings-container">
                        <div class="setting-group">
                            <h3>Profile Settings</h3>
                            <div class="form-group">
                                <label>Full Name</label>
                                <input type="text" id="settings-name" value="Dr. Smith">
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="settings-email" value="dr.smith@meditwin.com">
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/documents.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
